{"remainingRequest":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/babel-loader/lib/index.js!/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/leo/Desktop/vueProjectDemo/game-of-thrones/src/views/HouseDetails.view.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/src/views/HouseDetails.view.vue","mtime":1632342683993},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/cache-loader/dist/cjs.js","mtime":1632321191145},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/babel-loader/lib/index.js","mtime":1632321191557},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/cache-loader/dist/cjs.js","mtime":1632321191145},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/vue-loader-v16/dist/index.js","mtime":1632321191805}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2xlby9EZXNrdG9wL3Z1ZVByb2plY3REZW1vL2dhbWUtb2YtdGhyb25lcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBDaGFyYWN0ZXIgZnJvbSAiLi4vY29tcG9uZW50cy9DaGFyYWN0ZXIuY29tcG9uZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb3VzZURldGFpbHMiLAogIC8vIHByb3BzOiB7CiAgLy8gICAgIGhvdXNlOiBPYmplY3QsCiAgLy8gfSwKICBjb21wb25lbnRzOiB7CiAgICBDaGFyYWN0ZXI6IENoYXJhY3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhvdXNlOiBPYmplY3QsCiAgICAgIGN1cnJlbnRMb3JkOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8gZ2V0IGNoYXJhY3RlcgogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEodXJsKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB3aXRob3V0X2lkLCByZXMsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgd2l0aG91dF9pZCA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDogdHJ1ZTsKCiAgICAgICAgICAgICAgICAvLyBhZGQgaWQgKGNvbW1pbmcpCiAgICAgICAgICAgICAgICAvLyBpdCdzIGJlY2F1c2UgdG8gZ2V0IGhvdXNlcyBpdCdzIHVzaW5nIHRoZSBpZCwgYnV0IHRvIGdldCBjaGFyYWN0ZXIsIGl0J3MgdXNpbmcgdGhlIGZ1bGwgdXJsCiAgICAgICAgICAgICAgICBpZiAoIXdpdGhvdXRfaWQpIHsKICAgICAgICAgICAgICAgICAgdXJsID0gImh0dHBzOi8vd3d3LmFuYXBpb2ZpY2VhbmRmaXJlLmNvbS9hcGkvaG91c2VzLyIgKyB1cmw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgaG91c2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaERhdGEoX3RoaXMuJHJvdXRlLnBhcmFtcy5ob3VzZV9pZCwgZmFsc2UpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGhvdXNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgLy8gc2V0IGhvdXNlIHZpZXcKICAgICAgICAgICAgICBfdGhpcy5ob3VzZSA9IGhvdXNlOyAvLyBnZXQgY3VycmVudCBsb3JkCgogICAgICAgICAgICAgIGlmICghKGhvdXNlLmN1cnJlbnRMb3JkLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZmV0Y2hEYXRhKGhvdXNlLmN1cnJlbnRMb3JkKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TG9yZCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/leo/Desktop/vueProjectDemo/game-of-thrones/src/views/HouseDetails.view.vue"],"names":[],"mappings":";;;AAoBA,OAAO,SAAP,MAAsB,mCAAtB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,cADK;AAEX;AACA;AACA;AACA,EAAA,UAAU,EAAE;AACR,IAAA,SAAS,EAAT;AADQ,GALD;AAQX,EAAA,IARW,kBAQJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,MADJ;AAEH,MAAA,WAAW,EAAE;AAFV,KAAP;AAIH,GAbU;AAcX,EAAA,OAAO,EAAE;AACL;AACM,IAAA,SAFD,qBAEW,GAFX,EAEiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjB,gBAAA,UAAiB,0EAAN,IAAM;;AAElC;AACA;AACA,oBAAI,CAAC,UAAL,EAAiB;AACb,kBAAA,GAAE,GAAI,kDAAkD,GAAxD;AACJ;;AANkC;AAAA,uBAQhB,KAAK,CAAC,GAAD,CARW;;AAAA;AAQ5B,gBAAA,GAR4B;AAAA;AAAA,uBASf,GAAG,CAAC,IAAJ,EATe;;AAAA;AAS5B,gBAAA,IAT4B;AAAA,iDAY3B,IAZ2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcrC;AAhBI,GAdE;AAgCL,EAAA,OAhCK,qBAgCK;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAQQ,KAAI,CAAC,SAAL,CAAe,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,QAAlC,EAA4C,KAA5C,CARR;;AAAA;AAQN,cAAA,KARM;AAUZ;AACA,cAAA,KAAI,CAAC,KAAL,GAAa,KAAb,CAXY,CAaZ;;AAbY,oBAcR,KAAK,CAAC,WAAN,CAAkB,MAAlB,GAA2B,CAdnB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAgBiB,KAAI,CAAC,SAAL,CAAe,KAAK,CAAC,WAArB,CAhBjB;;AAAA;AAgBR,cAAA,KAAI,CAAC,WAhBG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBhB;AAvDW,CAAf","sourcesContent":["<template>\n    <div>\n       <h3>{{house.name}}</h3> \n       <h3>{{house.region}}</h3> \n       <h3>{{house.words}}</h3> \n       <Character\n            v-if=\"currentLord!=null\"\n            :character=\"currentLord\"\n       />\n        <div v-else>\n            No tiene lord actualmente\n        </div>\n       \n       <!-- <h3>{{house.currentLord}}</h3>  -->\n       <!-- <p>{{house.day}}</p> -->\n       <!-- <i @click='$emit(\"delete-house\", house.id)' class=\"fas fa-times\"></i> -->\n    </div>\n</template>\n\n<script>\nimport Character from \"../components/Character.component\";\n\nexport default {\n    name: \"HouseDetails\",\n    // props: {\n    //     house: Object,\n    // },\n    components: {\n        Character,\n    },\n    data() {\n        return {\n            house: Object,\n            currentLord: null,\n        }\n    },\n    methods: {\n        // get character\n        async fetchData(url, without_id=true) {\n\n            // add id (comming)\n            // it's because to get houses it's using the id, but to get character, it's using the full url\n            if (!without_id) {\n                url = \"https://www.anapioficeandfire.com/api/houses/\" + url;\n            }\n\n            const res = await fetch(url);\n            const data = await res.json();\n\n\n            return data;\n\n        },\n    },\n    async created() {\n        // console.log(this.$router);\n        // console.log(JSON.parse(this.$router.currentRoute.value.params.house));\n\n        // get house parameter\n        // this is getting the house directly\n        // const house = JSON.parse(this.$router.currentRoute.value.params.house);\n        // this is getting the house from house_id\n        const house = await this.fetchData(this.$route.params.house_id, false);\n\n        // set house view\n        this.house = house;\n\n        // get current lord\n        if (house.currentLord.length > 0) {\n\n            this.currentLord = await this.fetchData(house.currentLord);\n\n            // console.log(\"current lord: \", this.currentLord);\n        }\n        // else{\n        //     // console.log(\"no current Lord\")\n        // }\n    }\n}\n</script>"],"sourceRoot":""}]}