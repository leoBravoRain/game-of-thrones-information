{"remainingRequest":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/babel-loader/lib/index.js!/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/leo/Desktop/vueProjectDemo/game-of-thrones/src/views/CharacterDetails.view.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/src/views/CharacterDetails.view.vue","mtime":1632343248943},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/cache-loader/dist/cjs.js","mtime":1632321191145},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/babel-loader/lib/index.js","mtime":1632321191557},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/cache-loader/dist/cjs.js","mtime":1632321191145},{"path":"/home/leo/Desktop/vueProjectDemo/game-of-thrones/node_modules/vue-loader-v16/dist/index.js","mtime":1632321191805}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2xlby9EZXNrdG9wL3Z1ZVByb2plY3REZW1vL2dhbWUtb2YtdGhyb25lcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBDaGFyYWN0ZXIgZnJvbSAiLi4vY29tcG9uZW50cy9DaGFyYWN0ZXIuY29tcG9uZW50IjsKaW1wb3J0IEhvdXNlcyBmcm9tICIuLi9jb21wb25lbnRzL0hvdXNlcy5jb21wb25lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJhY3RlckRldGFpbHMnLAogIGNvbXBvbmVudHM6IHsKICAgIENoYXJhY3RlcjogQ2hhcmFjdGVyLAogICAgSG91c2VzOiBIb3VzZXMKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFyYWN0ZXI6IE9iamVjdCwKICAgICAgZmF0aGVyOiBudWxsLAogICAgICBtb3RoZXI6IG51bGwsCiAgICAgIHNwb3VzZTogbnVsbCwKICAgICAgYWxsZWdpYW5jZXM6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBnZXQgQ2hhcmFjdGVyCiAgICAvLyB3aXRvdXRfaWQ6IGl0J3MgYmVjYXVzZSB0byBnZXQgY2hhcmNzdCBpdCdzIHVzaW5nIHRoZSBpZCwgYnV0IHRvIGdldCBjaGFyYWN0ZXIsIGl0J3MgdXNpbmcgdGhlIGZ1bGwgdXJsCiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSh1cmwpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHdpdGhvdXRfaWQsIHJlcywgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB3aXRob3V0X2lkID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiB0cnVlOwoKICAgICAgICAgICAgICAgIGlmICghd2l0aG91dF9pZCkgewogICAgICAgICAgICAgICAgICB1cmwgPSAiaHR0cHM6Ly93d3cuYW5hcGlvZmljZWFuZGZpcmUuY29tL2FwaS9jaGFyYWN0ZXJzLyIgKyB1cmw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIC8vIHdoZW4gaXQncyBjcmVhdGVkCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjaGFyYWN0ZXIsIHVybHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaERhdGEoX3RoaXMuJHJvdXRlLnBhcmFtcy5jaGFyYWN0ZXJfaWQsIGZhbHNlKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjaGFyYWN0ZXIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAvLyB1cGRhdGUgY2hhcmFjdGVyIHZpZXcKICAgICAgICAgICAgICBfdGhpcy5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXI7IC8vIGdldCBmYXRoZXIKCiAgICAgICAgICAgICAgaWYgKCEoY2hhcmFjdGVyLmZhdGhlci5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZldGNoRGF0YShjaGFyYWN0ZXIuZmF0aGVyKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfdGhpcy5mYXRoZXIgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBpZiAoIShjaGFyYWN0ZXIubW90aGVyLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaERhdGEoY2hhcmFjdGVyLm1vdGhlcik7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF90aGlzLm1vdGhlciA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBpZiAoIShjaGFyYWN0ZXIuc3BvdXNlLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaERhdGEoY2hhcmFjdGVyLnNwb3VzZSk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF90aGlzLnNwb3VzZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBpZiAoIShjaGFyYWN0ZXIuYWxsZWdpYW5jZXMubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHVybHMgPSBbXTsKICAgICAgICAgICAgICBjaGFyYWN0ZXIuYWxsZWdpYW5jZXMuZm9yRWFjaChmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgICAgICAvLyB1cmxzLnB1c2godXJsKTsKICAgICAgICAgICAgICAgIHVybHMucHVzaChfdGhpcy5mZXRjaERhdGEodXJsKSk7CiAgICAgICAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKCJ1cmxzIGFsbGVnaWFuY2VzOiAiLCB1cmxzKTsKICAgICAgICAgICAgICAvLyBydW4gYWxsIHByb21pc2VzCiAgICAgICAgICAgICAgLy8gY29uc3QgYWxsZWdpYW5jZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh1cmxzKTsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiYWxsZWdpYW5jZXM6ICIsIGFsbGVnaWFuY2VzKQogICAgICAgICAgICAgIC8vIHVwZGF0ZSBhbGxlZ2lhbmNlcwoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh1cmxzKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX3RoaXMuYWxsZWdpYW5jZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/home/leo/Desktop/vueProjectDemo/game-of-thrones/src/views/CharacterDetails.view.vue"],"names":[],"mappings":";;;;;;AAkDA;AACA,OAAO,SAAP,MAAsB,mCAAtB;AACA,OAAO,MAAP,MAAmB,gCAAnB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,kBADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT,SADU;AAEV,IAAA,MAAK,EAAL;AAFU,GAFC;AAMb,EAAA,IANa,kBAMN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,MADN;AAEL,MAAA,MAAM,EAAE,IAFH;AAGL,MAAA,MAAM,EAAE,IAHH;AAIL,MAAA,MAAM,EAAE,IAJH;AAKL,MAAA,WAAW,EAAE;AALR,KAAP;AAOD,GAdY;AAeb,EAAA,OAAO,EAAE;AAEP;AACA;AACM,IAAA,SAJC,qBAIS,GAJT,EAI+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjB,gBAAA,UAAiB,0EAAN,IAAM;;AAEpC,oBAAI,CAAC,UAAL,EAAiB;AACf,kBAAA,GAAE,GAAI,sDAAsD,GAA5D;AACF;;AAJoC;AAAA,uBAMlB,KAAK,CAAC,GAAD,CANa;;AAAA;AAM9B,gBAAA,GAN8B;AAAA;AAAA,uBAOjB,GAAG,CAAC,IAAJ,EAPiB;;AAAA;AAO9B,gBAAA,IAP8B;AAAA,iDAS7B,IAT6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWrC;AAfM,GAfI;AAkCb;AACM,EAAA,OAnCO,qBAmCG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKU,KAAI,CAAC,SAAL,CAAe,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,YAAlC,EAAgD,KAAhD,CALV;;AAAA;AAKR,cAAA,SALQ;AAOd;AACA,cAAA,KAAI,CAAC,SAAL,GAAiB,SAAjB,CARc,CAUd;;AAVc,oBAWV,SAAS,CAAC,MAAV,CAAiB,MAAjB,GAA0B,CAXhB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAYU,KAAI,CAAC,SAAL,CAAe,SAAS,CAAC,MAAzB,CAZV;;AAAA;AAYV,cAAA,KAAI,CAAC,MAZK;;AAAA;AAAA,oBAgBV,SAAS,CAAC,MAAV,CAAiB,MAAjB,GAA0B,CAhBhB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAiBU,KAAI,CAAC,SAAL,CAAe,SAAS,CAAC,MAAzB,CAjBV;;AAAA;AAiBV,cAAA,KAAI,CAAC,MAjBK;;AAAA;AAAA,oBAqBV,SAAS,CAAC,MAAV,CAAiB,MAAjB,GAA0B,CArBhB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAsBU,KAAI,CAAC,SAAL,CAAe,SAAS,CAAC,MAAzB,CAtBV;;AAAA;AAsBV,cAAA,KAAI,CAAC,MAtBK;;AAAA;AAAA,oBA0BV,SAAS,CAAC,WAAV,CAAsB,MAAtB,GAA+B,CA1BrB;AAAA;AAAA;AAAA;;AA2BR,cAAA,IA3BQ,GA2BD,EA3BC;AA4BZ,cAAA,SAAS,CAAC,WAAV,CAAsB,OAAtB,CAA8B,UAAC,GAAD,EAAS;AACrC;AACA,gBAAA,IAAI,CAAC,IAAL,CAAU,KAAI,CAAC,SAAL,CAAe,GAAf,CAAV;AACD,eAHD,EA5BY,CAgCZ;AACA;AACA;AAEA;AACA;;AArCY;AAAA,qBAsCa,OAAO,CAAC,GAAR,CAAY,IAAZ,CAtCb;;AAAA;AAsCZ,cAAA,KAAI,CAAC,WAtCO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyChB;AA5Ea,CAAf","sourcesContent":["<template>\n  <div>\n    <h3>Nombre: {{character.name}}</h3>\n    <p>Género: {{character.gender}}</p>\n    <p>Cultura: {{character.culture}}</p>\n    <p>Nació: {{character.born}}</p>\n    <p>Murió: {{character.died}}</p>\n\n    <!-- array of strings -->\n    <p>Títulos: {{character.titles.toString()}}</p>\n\n    <!-- array of strings -->\n    <p>Alias: {{character.aliases.toString()}}</p>\n\n    <!-- father -->\n    <div v-if=\"father!=null\">\n      <p>Padre:</p>\n      <Character\n        :character=\"father\"\n      />\n    </div>\n\n    <!-- mother -->\n    <div v-if=\"mather!=null\">\n      <p>Madre:</p>\n      <Character\n        :character=\"mather\"\n      />\n    </div>\n\n    <!-- spouse -->\n    <div v-if=\"spouse!=null\">\n      <p>Espos@:</p>\n      <Character\n        :character=\"spouse\"\n      />\n    </div>\n\n    <!-- allegiance -->\n    <div v-if=\"allegiances!=null\">\n      <p>Lealtades:</p>\n      <Houses\n        :houses=\"allegiances\"\n      />\n    </div>\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Character from \"../components/Character.component\";\nimport Houses from \"../components/Houses.component\";\n\nexport default {\n  name: 'CharacterDetails',\n  components: {\n    Character,\n    Houses\n  },\n  data() {\n    return {\n      character: Object,\n      father: null,\n      mother: null,\n      spouse: null,\n      allegiances: null,\n    }\n  },\n  methods: {\n\n    // get Character\n    // witout_id: it's because to get charcst it's using the id, but to get character, it's using the full url\n    async fetchData(url, without_id=true) {\n\n      if (!without_id) {\n        url = \"https://www.anapioficeandfire.com/api/characters/\" + url;\n      }\n\n      const res = await fetch(url);\n      const data = await res.json();\n\n      return data;\n\n    },\n\n  },\n\n  // when it's created\n  async created() {\n\n    // get Character from parameter\n    // const character = JSON.parse(this.$router.currentRoute.value.params.character);\n    // this is using the character id\n    const character = await this.fetchData(this.$route.params.character_id, false);\n\n    // update character view\n    this.character = character \n\n    // get father\n    if (character.father.length > 0) {\n        this.father = await this.fetchData(character.father);\n    }\n\n    // get mother\n    if (character.mother.length > 0) {\n        this.mother = await this.fetchData(character.mother);\n    }\n\n    // get spouse\n    if (character.spouse.length > 0) {\n        this.spouse = await this.fetchData(character.spouse);\n    }\n\n    // get allegiances\n    if (character.allegiances.length > 0) {\n      var urls = [];\n      character.allegiances.forEach((url) => {\n        // urls.push(url);\n        urls.push(this.fetchData(url));\n      });\n      // console.log(\"urls allegiances: \", urls);\n      // run all promises\n      // const allegiances = await Promise.all(urls);\n\n      // console.log(\"allegiances: \", allegiances)\n      // update allegiances\n      this.allegiances = await Promise.all(urls);\n      \n    }\n  }\n\n}\n</script>\n"],"sourceRoot":""}]}